<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="task _Skins_HTML5_topnav_IBMOEM" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="System">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>VADP&#160;Proxy</title>
        <link rel="icon" href="../../Resources/images/IBM-icon-48.ico" />
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/stylesheets/foundation.6.2.3.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/stylesheets/styles.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/stylesheets/tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/stylesheets/mobile.css" rel="stylesheet" />
        <style>/*&lt;meta /&gt;*/

.button.remove-highlight-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/highlight.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.expand-all-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/expand.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.print-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/printer.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.collapse-all-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/collapse.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.needs-pie
{
	behavior: url('../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link href="../../resources/stylesheets/styles_topnavi.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.6.2.3_custom.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-drilldown vertical menu off-canvas-list" data-drilldown="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-drilldown-submenu-parent" data-mc-css-tree-node-collapsed="is-drilldown-submenu-parent" data-mc-css-sub-menu="vertical menu slide-in-right is-drilldown-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.drilldown" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div>
                        <nav class="title-bar tab-bar" data-mc-ignore="true">
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="relative clearfix"><a class="logo" href="../about/about_application_overview.htm" alt="Logo"></a>
                                    <div class="navigation-wrapper nocontent">
                                        <ul class="navigation clearfix" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="4" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                            <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                            </li>
                                        </ul>
                                    </div>
                                    <button class="menu-icon" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="nav-search row outer-row">
                                <form class="search" action="#">
                                    <div class="search-bar search-bar-container needs-pie">
                                        <input class="search-field needs-pie" type="search" placeholder="Search the help system" />
                                        <div class="search-filter-wrapper">
                                            <div class="search-filter">
                                                <div class="search-filter-content">
                                                    <ul>
                                                        <li>All Files</li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="search-submit-wrapper" dir="ltr">
                                            <div class="search-submit" title="Search">
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </nav>
                    </div>
                    <section class="main-section">
                        <div class="row outer-row" data-mc-content-body="True">
                            <div class="buttons popup-container clearfix topicToolbarProxy mc-component nocontent" style="margin-left: 0px; float: right; mc-topic-toolbar-items: RemoveHighlight ExpandAll CollapseAll Print;">
                                <div class="button-group-container-left">
                                    <button class="button needs-pie remove-highlight-button" title="Remove Highlights">
                                        <img src="../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="remove highlight" />
                                    </button>
                                    <button class="button needs-pie expand-all-button" data-state1-class="expand-all-button" data-state2-class="collapse-all-button" data-state2-title="Collapse all" title="Expand all" data-state1-title="Expand all">
                                        <img src="../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="expand all" />
                                    </button>
                                    <button class="button needs-pie print-button" title="Print">
                                        <img src="../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="print" />
                                    </button>
                                </div>
                            </div>
                            <div class="nocontent">
                                <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
                                </div>
                            </div>
                            <h1>VADP&#160;Proxy</h1>
                            <p>In <span class="ProductNames_LongShortECX_Short">IBM Spectrum Protect Plus</span>, running VMware Backup jobs  can be taxing on your system resources.  By creating VADP-based VMware Backup job proxies, you enable load sharing and load balancing for those jobs.</p>
                            <p>The backup of a VMware virtual machine includes the following files:</p>
                            <ul>
                                <li value="1">VMDKs corresponding to all disks. The base backup captures all allocated data, or all data if disks are on NFS&#160;datastores. Incremental backups will capture only changed blocks since the last successful backup.</li>
                                <li value="2">VM templates</li>
                                <li value="3">.vmx and, if available, .vmfx configuration files</li>
                                <li value="4">.nvram, which stores the state of the virtual machine's BIOS</li>
                            </ul>
                            <p> If proxies exist, the entire processing load is shifted off the <span class="ProductNames_LongShortECX_Short">IBM Spectrum Protect Plus</span> host machine and onto the proxies, else the entire load stays on the <span class="ProductNames_LongShortECX_Short">IBM Spectrum Protect Plus</span> host. Within a Backup job, the processing load for any single VM is shifted to a single proxy machine; multiple VMs are shifted to multiple proxies if available.</p>
                            <p>If a proxy server goes down or is otherwise disabled before the start of the job, the other proxies (or if there are no other proxies, the <span class="ProductNames_LongShortECX_Short">IBM Spectrum Protect Plus</span> host) take over and the job completes.  If a proxy server becomes disabled during the running of a job, there is a possibility that the job will fail.</p>
                            <div class="Prerequisite">
                                <p class="PostPreRelTitleLeft"><span class="PostPreRelTitle">BEFORE YOU BEGIN:</span>
                                </p>
                                <ul>
                                    <li value="1">Determine how many proxies to create; the more proxies, the faster the jobs run.  Each proxy is used merely to process data, and the results are returned through the host <span class="ProductNames_LongShortECX_Short">IBM Spectrum Protect Plus</span> server. The only impact seen by the user is the improvement in performance when running the job.</li>
                                </ul>
                            </div>
                            <p class="ListHeading">System Requirements:</p>
                            <p>This feature is supported only in 64-bit quad core configurations in the following Linux environments:</p>
                            <ul>
                                <li value="1">CentOS&#160;Linux 6.5+</li>
                                <li value="2">CentOS&#160;Linux 7.0+</li>
                                <li value="3">Red Hat Enterprise Linux 6, Fix pack 4 or later</li>
                                <li value="4">Red Hat Enterprise Linux 7, all updates are supported</li>
                                <li value="5">SUSE Linux Enterprise Server 12, all updates are supported</li>
                            </ul>
                            <p>The proxy must have the ability to mount NFS file systems, which in many cases requires an NFS client package  to be installed. The exact package details vary based on the distribution, but are required for VADP&#160;proxy usage.</p>
                            <p>A minimum of 8 GB of RAM is required (16 GB recommended), along with 60 GB of disk space. </p>
                            <p>Each proxy must have a fully qualified domain name and must be able to resolve and reach vCenter. </p>
                            <p>vSnap servers must be reachable from the proxy. If a firewall is active on the proxy, the following ports on the vSnap server must be reachable (both TCP and UDP): 111, 2049, and 20048.</p>
                            <p>Port 8080 on the VADP proxy server must be open when the proxy server firewall is enabled. If the port is not open, VADP Backups will run on local vmdkbackup instead of the VADP proxy server.</p>
                            <p style="font-weight: bold;">Installer Notes:</p>
                            <p>The <span class="ProductNames_LongShortECX_Short">IBM Spectrum Protect Plus</span> version of the VADP Proxy installer includes Virtual Disk Development Kit (VDDK) version <MadCap:conditionalText data-mc-conditions="Default.SPP_30_patch2_REMOVE">6.5</MadCap:conditionalText>. This version of the VADP proxy installer provides the following functionality:</p>
                            <ul>
                                <li value="1">External VADP Proxy support with vSphere 6.5 </li>
                            </ul>
                            <p class="ListHeading" data-mc-conditions="Default.SPP_30_patch2_REMOVE">To create a proxy:</p>
                            <ol data-mc-conditions="Default.SPP_30_patch2_REMOVE">
                                <li value="1" data-mc-conditions="Default.1012 navigation">From the navigation menu, expand <b>System Configuration</b>, then click <b>VADP&#160;Proxy</b>.</li>
                                <li value="2">Click <b data-mc-conditions="Default.1012 navigation">Register Proxy</b>. The Install VADP&#160;Proxy pane displays.</li>
                                <li value="3">Populate the fields:</li>
                                <li class="indent_strong" data-mc-autonum=""><span class="autonumber"><span></span></span>Hostname/IP</li>
                                <li class="Indent_Level2" data-mc-autonum=""><span class="autonumber"><span></span></span>Enter the resolvable IP&#160;address or a resolvable path and machine name.</li>
                                <li class="indent_strong" data-mc-autonum="" data-mc-conditions="Default.1012 navigation"><span class="autonumber"><span></span></span>Select a site</li>
                                <li class="Indent_Level2" data-mc-autonum="" data-mc-conditions="Default.1012 navigation"><span class="autonumber"><span></span></span>Select a site to associate with the VADP&#160;Proxy server.</li>
                                <li class="indent_strong" data-mc-autonum="" data-mc-conditions="Default.1012 navigation"><span class="autonumber"><span></span></span>Use existing user</li>
                                <li class="Indent_Level2" data-mc-autonum="" data-mc-conditions="Default.1012 navigation"><span class="autonumber"><span></span></span>Enable to select a previously entered username and password for the VADP&#160;Proxy server.</li>
                                <li class="indent_strong" data-mc-autonum=""><span class="autonumber"><span></span></span>Username</li>
                                <li class="Indent_Level2" data-mc-autonum=""><span class="autonumber"><span></span></span>Enter the user name for the VADP&#160;Proxy server.</li>
                                <li class="indent_strong" data-mc-autonum=""><span class="autonumber"><span></span></span>Password</li>
                                <li class="Indent_Level2" data-mc-autonum=""><span class="autonumber"><span></span></span>Enter the password for the VADP&#160;Proxy server.</li>
                                <li value="4">Click <b>Install</b>. The VADP&#160;Proxy is added to the VADP&#160;Proxy table. </li>
                                <li value="5">Click <b>Register</b> to register the VADP&#160;Proxy server. The server can be unregistered or suspended through the <b>Actions</b> menu. Suspending a VADP&#160;proxy prevents upcoming backup jobs from using the VADP&#160;proxy, and jobs utilizing a suspended or unregistered proxy will run locally, which may impact performance. Maintenance can be performed on the proxy while suspended. To resume usage of the proxy, select <b>Actions &gt;&#160;Resume</b>.</li>
                                <li class="indent" data-mc-autonum=""><span class="autonumber"><span></span></span>After successful registration, the service <span class="CodeStrong">vadp</span> is started on the proxy machine. A log file <span class="CodeStrong">vadp.log</span> is generated in /<span class="Generalopt/ECX">opt/IBM/SPP</span>/logs directory.</li>
                                <li class="indent" data-mc-autonum=""><span class="autonumber"><span></span></span>Repeat the previous steps for each proxy you want to create.</li>
                            </ol>
                            <p class="ListHeading" data-mc-conditions="Default.SPP_30_patch2_REMOVE">Set proxy options through the Actions &gt;&#160;Set Options menu:</p>
                            <p data-mc-conditions="Default.SPP_30_patch2_REMOVE">From the <span class="Strong">Options</span> <img src="../../resources/images/new_icons/threedots.png" style="vertical-align: text-top;border-left-style: solid;border-left-width: 0px;border-left-color: #000000;border-right-style: solid;border-right-width: 0px;border-right-color: #000000;border-top-style: solid;border-top-width: 0px;border-top-color: #000000;border-bottom-style: solid;border-bottom-width: 0px;border-bottom-color: #000000;" alt="Options icon" />  icon associated with a VADP&#160;proxy, select <b>Set Options</b>. The following options are available for registered VADP&#160;proxies:</p>
                            <ul data-mc-conditions="Default.SPP_30_patch2_REMOVE">
                                <li value="1"><b>Site</b> - Assign a site to the VADP proxy.</li>
                                <li value="2" data-mc-conditions="Default.1012 navigation"><b>User</b> - Select a previously entered username and password for the VADP&#160;Proxy server. To enable automatic updates of the VADP&#160;proxy, a previously entered username must be selected. </li>
                                <li value="3"><b>Transport Modes</b> - Set the Transport Modes to be utilized by the VADP Proxy. Available options include <b>File</b>, <b>SAN</b>, <b>HotAdd</b>, <b>NBDSSL</b>, and <b>NBD</b>. For more information about VMware transport modes, see the following VMware article - <a href="https://pubs.vmware.com/vsphere-51/index.jsp?topic=%2Fcom.vmware.vddk.pg.doc%2FvddkDataStruct.5.5.html" target="_top">https://pubs.vmware.com/vsphere-51/index.jsp?topic=%2Fcom.vmware.vddk.pg.doc%2FvddkDataStruct.5.5.html</a>.</li>
                                <li value="4"><b>Enable NBDSSL Compression</b> - If utilizing NBDSSL, enable compression to increase the performance of NBDSSL data transfers. Available options include <b>LIBZ</b>, <b>FASTLZ</b>, and <b>SKIPZ</b>. To turn off compression, select <b>Disabled</b>.</li>
                                <li value="5"><b>Log retention in days</b> - Set the number of days after which logs will be deleted.</li>
                                <li value="6"><b>Read and write buffer size</b> - Set the buffer size of the data transfer, measured in bytes. Available options include <b>64K</b>, <b>128K</b>, <b>256K</b>, <b>512K</b>, <b>1024K</b>, <b>2048K</b>, and <b>4096K</b>.</li>
                                <li value="7"><b>Block size of NFS volume</b> - Set the block size to be used by the mounted NFS volume, measured in bytes. Available options include <b>64K</b>, <b>128K</b>, <b>256K</b>, <b>512K</b>, and <b>1024K</b>.</li>
                            </ul>
                            <div class="Postrequisite">
                                <p class="PostPreRelTitleLeft"><span class="PostPreRelTitle">NEXT STEPS:</span>
                                </p>
                                <ul>
                                    <li value="1">Run the VMware Backup job.  The use of the proxies are indicated in the job log by a log message similar to the following:</li>
                                    <p><span class="Code">Run remote vmdkbackup of MicroService: http://&lt;proxy node name&gt;, IP:&lt;proxy IP address&gt;</span>
                                    </p>
                                    <li value="2">
                                        <p>Uninstall the proxies when you cease running the VMware Backup jobs.  To uninstall a proxy, on your host machine, run <code>uninstall_vmdkbackup</code> from the uninstall subdirectory of the installation directory: /opt/IBM/SPP/uninstall. </p>
                                    </li>
                                    <p>The installation directory is removed.</p>
                                </ul>
                            </div>
                            <div class="RelatedTopic">
                                <p class="PostPreRelTitleLeft"><span class="PostPreRelTitle">RELATED TOPICS:</span>
                                </p>
                                <ul>
                                    <li value="1"><a href="../hypervisor/vmware/vmware_backup.htm" class="MCXref xref">Create a VMware Backup Job Definition</a>
                                    </li>
                                </ul>
                            </div>
                            <p>&#160;</p>
                            <hr width="100%" size="0" align="center" />
                            <p style="text-align: left;"><span class="Strong" style="font-size: 10pt;">IBM Spectrum Protect Plus</span> <span class="Strong" style="font-size: 10pt;">10.1.2</span> <![CDATA[ ]]></p>
                            <p style="font-size: 8pt;">Licensed Material - Property of IBM Corp. © IBM Corporation and other(s) <span class="GeneralYear">2018</span>. IBM is a registered trademark of the IBM Corporation in the United States, other countries, or both. <span style="font-size: 10pt;"><span style="font-size: 8pt;">| </span></span><span style="font-size: 8pt;" class="SystemShortDate">8/23/2018</span></p>
                        </div>
                    </section><a data-close="true"></a>
                </div>
            </div>
            <script>/* <![CDATA[ */$(document).foundation();/* ]]> */</script>
        </div>
    </body>
</html>