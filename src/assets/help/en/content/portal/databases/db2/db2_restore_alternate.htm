<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="task _Skins_HTML5_topnav_IBMOEM" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Operations|Db2">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Restoring Db2 Databases to an Alternate Instance</title>
        <link rel="icon" href="../../../Resources/images/IBM-icon-48.ico" />
        <link href="../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <link href="../../../../Skins/Fluid/stylesheets/foundation.6.2.3.css" rel="stylesheet" />
        <link href="../../../../Skins/Fluid/stylesheets/styles.css" rel="stylesheet" />
        <link href="../../../../Skins/Fluid/stylesheets/tablet.css" rel="stylesheet" />
        <link href="../../../../Skins/Fluid/stylesheets/mobile.css" rel="stylesheet" />
        <style>/*&lt;meta /&gt;*/

.button.remove-highlight-button
{
	-pie-background: url('../../../../Skins/Default/Stylesheets/Images/highlight.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.expand-all-button
{
	-pie-background: url('../../../../Skins/Default/Stylesheets/Images/expand.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.print-button
{
	-pie-background: url('../../../../Skins/Default/Stylesheets/Images/printer.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.collapse-all-button
{
	-pie-background: url('../../../../Skins/Default/Stylesheets/Images/collapse.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.needs-pie
{
	behavior: url('../../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link href="../../../resources/stylesheets/styles_topnavi.css" rel="stylesheet" />
        <script src="../../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../../Resources/Scripts/foundation.6.2.3_custom.js">
        </script>
        <script src="../../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-drilldown vertical menu off-canvas-list" data-drilldown="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-drilldown-submenu-parent" data-mc-css-tree-node-collapsed="is-drilldown-submenu-parent" data-mc-css-sub-menu="vertical menu slide-in-right is-drilldown-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.drilldown" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div>
                        <nav class="title-bar tab-bar" data-mc-ignore="true">
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="relative clearfix"><a class="logo" href="../../about/about_application_overview.htm" alt="Logo"></a>
                                    <div class="navigation-wrapper nocontent">
                                        <ul class="navigation clearfix" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="4" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                            <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                            </li>
                                        </ul>
                                    </div>
                                    <button class="menu-icon" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="nav-search row outer-row">
                                <form class="search" action="#">
                                    <div class="search-bar search-bar-container needs-pie">
                                        <input class="search-field needs-pie" type="search" placeholder="Search the help system" />
                                        <div class="search-filter-wrapper">
                                            <div class="search-filter">
                                                <div class="search-filter-content">
                                                    <ul>
                                                        <li>All Files</li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="search-submit-wrapper" dir="ltr">
                                            <div class="search-submit" title="Search">
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </nav>
                    </div>
                    <section class="main-section">
                        <div class="row outer-row" data-mc-content-body="True">
                            <div class="buttons popup-container clearfix topicToolbarProxy mc-component nocontent" style="margin-left: 0px; float: right; mc-topic-toolbar-items: RemoveHighlight ExpandAll CollapseAll Print;">
                                <div class="button-group-container-left">
                                    <button class="button needs-pie remove-highlight-button" title="Remove Highlights">
                                        <img src="../../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="remove highlight" />
                                    </button>
                                    <button class="button needs-pie expand-all-button" data-state1-class="expand-all-button" data-state2-class="collapse-all-button" data-state2-title="Collapse all" title="Expand all" data-state1-title="Expand all">
                                        <img src="../../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="expand all" />
                                    </button>
                                    <button class="button needs-pie print-button" title="Print">
                                        <img src="../../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="print" />
                                    </button>
                                </div>
                            </div>
                            <div class="nocontent">
                                <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
                                </div>
                            </div>
                            <h1>Restoring Db2 Databases to an Alternate Instance</h1>
                            <p>Select a Db2® database backup and restore that database to a Db2 instance on an alternate host. You can also choose to restore a database to an instance with a different name, or you can rename the database. This process creates an exact copy of the database on a different host in a different instance. </p>
                            <p class="SubHeading">Before you begin</p>
                            <p>Before you start, ensure that you allowed enough disk space and allocated dedicated volumes for the copying of files.</p>
                            <p><span class="TipGreen">Tip:</span> If the local database directory you are restoring to is not empty and the <b>Overwrite Databases</b> is not selected, the restore process fails. No other data can share the local database target directory as the database to be restored.</p>
                            <p><b>Important:</b>&#160;If the local database directory you are restoring to is not empty and the Overwrite Databases is selected, the restore process overwrites that existing data.</p>
                            <p>Ensure that the following requirements are in place before you start:&#160;</p>
                            <ul>
                                <li value="1">The target database directory that you are restoring is clean and ready for the restore operation. Selecting <b>Overwrite exisiting database</b> in the Application Options panel overwrites data in the directory.</li>
                                <li value="2">At least one Db2 backup job is set up and running. For instructions on how to set up a backup job, see <a href="db2_definesla.htm" class="MCXref xref" xrefformat="{paratext}">Defining an SLA&#160;Backup Job</a>.</li>
                                <li value="3">IBM Spectrum Protect™ Plus roles and resource groups are assigned to the user who is setting up the restore job. For more information about assigning roles, see <a href="../../access/access_overview.htm" class="MCXref xref" xrefformat="{paratext}">Access</a>.</li>
                            </ul>
                            <p>Db2 database backups are stored on the vSnap repository for instant access. If you want to back up to a single target volume exposed by the vSnap repository, you must configure Db2 with alternative paths for instant access.</p>
                            <p class="ListHeading">To restore Db2 databases to an alternate location:</p>
                            <ol>
                                <li value="1">From the navigation menu, expand <b>Manage Protection</b>, then expand <b>Applications</b>. Expand <b>Db2</b>, then click <b>Restore</b>.</li>
                                <li value="2">In the Restore window, click a Db2 instance from the list in the Instances pane to expand that instance to show the databases. </li>
                                <li value="3">Click the database that you want to restore to show the <b>Restore Points</b> available for that database.</li>
                                <li class="indent" data-mc-autonum=""><span class="autonumber"><span></span></span>Restore points are listed with the backup timestamp, SLA policy type, and site information.</li>
                                <li value="4">In the <b>Options</b> panel, select <b>Restore to alternate instance</b> as the <b>Destination</b> choice. Select the target instance that you want to restore the data to. </li>
                                <li class="indent" data-mc-autonum=""><span class="autonumber"><span></span></span>The original instance is not selectable as you cannot overwrite the original data when you select <b>Restore to alternate instance</b>. Instances on different versions levels cannot be selected either.</li>
                                <li value="5">If you want to create a copy of the database, rename the database in the <b>New Database Name</b> field.</li>
                                <li value="6">Select a <b>Restore</b> Type. </li>
                                <ul style="list-style-type: circle;">
                                    <li value="1"><b>Test</b>. Choose this option to restore the data from the vSnap repository directly. This restore type could be used for short-lived restore operations for testing purposes.</li>
                                    <li value="2"><b>Production</b>. Choose this option to restore the full database with a full-copy data restore operation. This restore operation is for permanent use of the restored database.</li>
                                    <li value="3"><b>Instant Access</b>. Choose this option to mount the database backup to the target host. This mounted database can be used to access any particular log file or database that you want to back up elsewhere.</li>
                                </ul>
                                <li value="7">Select <b>Recovery Options</b> for the restore operation. The default value is <b>No Recovery</b>. </li>
                                <ul style="list-style-type: circle;">
                                    <li value="1"><b>No Recovery</b>. This option skips any rollforward recovery after the restore operation. The database remains in a Rollforward pending state until you decide whether you want to run the rollforward manually.</li>
                                    <li value="2"><b>Recover until end of backup</b>. This choice recovers only the data that is contained in the backup that is selected.</li>
                                    <li value="3"><b>Recover until end of available logs</b>. This choice recovers data in the backup and right through to the last backup as captured in the continuous logs. This option is only available if you selected <b>Enable Log Backup</b> in the backup job.</li>
                                    <li value="4"><b>Recover until specific point in time</b>. This option includes all the backup data up to a specific point in time, for example, May 8, 2018 12:18:00 AM. This option is only available if you selected <b>Enable Log Backup</b> in the backup job.</li>
                                </ul>
                                <li value="8">Specify <b>Application Options</b> to choose extra options.</li>
                                <ul style="list-style-type: circle;">
                                    <li value="1"><b>Overwrite existing databases</b>. Choose this option to clean up the database and overwrite any data that exists before you restore to that location. You do not need to select this option when the directory is clear of existing data.</li>
                                    <li class="indent" data-mc-autonum=""><span class="autonumber"><span></span></span><span class="NoteBlue">Note:</span> Ensure that no other databases are sharing this directory or that data is overwritten when this choice is selected.</li>
                                    <li value="2"><b>Maximum Parallel Streams per Database</b>. If required you can choose to run the restore operation of data in parallel streams. This option is useful when you are restoring a large database.</li>
                                    <li value="3"><b>Specify the size of the Db2 database memory set in KB</b>. Input the size in kilobytes.</li>
                                </ul>
                                <li value="9">Choose to specify further restore options in <b>the Advanced Options</b> pane. Both options are selected by default.</li>
                                <ul style="list-style-type: circle;">
                                    <li value="1"><b>Run cleanup immediately on job failure</b>. If the restore operation fails, this option enables a cleanup of the allocated resources.</li>
                                    <li value="2"><b>Continue with restores of other selected databases even if one fails</b>. If one database in the instance fails to restore successfully, the process continues for all other databases that are being restored.</li>
                                </ul>
                                <li value="10">To restore immediately, click <b>Restore</b>.</li>
                                <li class="indent" data-mc-autonum=""><span class="autonumber"><span></span></span>Alternatively, click Manage Jobs to specify a schedule for the restore operation you specified.</li>
                            </ol>
                            <div class="RelatedTopic">
                                <p class="PostPreRelTitleLeft"><span class="PostPreRelTitle">RELATED TOPICS:</span>
                                </p>
                                <ul>
                                    <li value="1"><a href="db2_backup.htm" class="MCXref xref" xrefformat="{paratext}">Backing Up Db2 Databases</a>
                                    </li>
                                    <li value="2"><a href="db2_manage.htm" class="MCXref xref" xrefformat="{paratext}">Add a Db2 Server</a>
                                    </li>
                                </ul>
                            </div>
                            <p>&#160;</p>
                            <hr width="100%" size="0" align="center" />
                            <p style="text-align: left;"><span class="Strong" style="font-size: 10pt;">IBM Spectrum Protect Plus</span> <span class="Strong" style="font-size: 10pt;">10.1.2</span> <![CDATA[ ]]></p>
                            <p style="font-size: 8pt;">Licensed Material - Property of IBM Corp. © IBM Corporation and other(s) <span class="GeneralYear">2018</span>. IBM is a registered trademark of the IBM Corporation in the United States, other countries, or both. <span style="font-size: 10pt;"><span style="font-size: 8pt;">| </span></span><span style="font-size: 8pt;" class="SystemShortDate">8/23/2018</span></p>
                        </div>
                    </section><a data-close="true"></a>
                </div>
            </div>
            <script>/* <![CDATA[ */$(document).foundation();/* ]]> */</script>
        </div>
    </body>
</html>