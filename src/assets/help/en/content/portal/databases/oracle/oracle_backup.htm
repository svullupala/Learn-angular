<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="task _Skins_HTML5_topnav_IBMOEM" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Operations|Oracle">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Create an Oracle Backup Job Definition</title>
        <link rel="icon" href="../../../Resources/images/IBM-icon-48.ico" />
        <link href="../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <link href="../../../../Skins/Fluid/stylesheets/foundation.6.2.3.css" rel="stylesheet" />
        <link href="../../../../Skins/Fluid/stylesheets/styles.css" rel="stylesheet" />
        <link href="../../../../Skins/Fluid/stylesheets/tablet.css" rel="stylesheet" />
        <link href="../../../../Skins/Fluid/stylesheets/mobile.css" rel="stylesheet" />
        <style>/*&lt;meta /&gt;*/

.button.remove-highlight-button
{
	-pie-background: url('../../../../Skins/Default/Stylesheets/Images/highlight.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.expand-all-button
{
	-pie-background: url('../../../../Skins/Default/Stylesheets/Images/expand.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.print-button
{
	-pie-background: url('../../../../Skins/Default/Stylesheets/Images/printer.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.collapse-all-button
{
	-pie-background: url('../../../../Skins/Default/Stylesheets/Images/collapse.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.needs-pie
{
	behavior: url('../../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link href="../../../resources/stylesheets/styles_topnavi.css" rel="stylesheet" />
        <script src="../../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../../Resources/Scripts/foundation.6.2.3_custom.js">
        </script>
        <script src="../../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-drilldown vertical menu off-canvas-list" data-drilldown="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-drilldown-submenu-parent" data-mc-css-tree-node-collapsed="is-drilldown-submenu-parent" data-mc-css-sub-menu="vertical menu slide-in-right is-drilldown-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.drilldown" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div>
                        <nav class="title-bar tab-bar" data-mc-ignore="true">
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="relative clearfix"><a class="logo" href="../../about/about_application_overview.htm" alt="Logo"></a>
                                    <div class="navigation-wrapper nocontent">
                                        <ul class="navigation clearfix" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="4" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                            <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                            </li>
                                        </ul>
                                    </div>
                                    <button class="menu-icon" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="nav-search row outer-row">
                                <form class="search" action="#">
                                    <div class="search-bar search-bar-container needs-pie">
                                        <input class="search-field needs-pie" type="search" placeholder="Search the help system" />
                                        <div class="search-filter-wrapper">
                                            <div class="search-filter">
                                                <div class="search-filter-content">
                                                    <ul>
                                                        <li>All Files</li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="search-submit-wrapper" dir="ltr">
                                            <div class="search-submit" title="Search">
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </nav>
                    </div>
                    <section class="main-section">
                        <div class="row outer-row" data-mc-content-body="True">
                            <div class="buttons popup-container clearfix topicToolbarProxy mc-component nocontent" style="margin-left: 0px; float: right; mc-topic-toolbar-items: RemoveHighlight ExpandAll CollapseAll Print;">
                                <div class="button-group-container-left">
                                    <button class="button needs-pie remove-highlight-button" title="Remove Highlights">
                                        <img src="../../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="remove highlight" />
                                    </button>
                                    <button class="button needs-pie expand-all-button" data-state1-class="expand-all-button" data-state2-class="collapse-all-button" data-state2-title="Collapse all" title="Expand all" data-state1-title="Expand all">
                                        <img src="../../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="expand all" />
                                    </button>
                                    <button class="button needs-pie print-button" title="Print">
                                        <img src="../../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="print" />
                                    </button>
                                </div>
                            </div>
                            <div class="nocontent">
                                <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
                                </div>
                            </div>
                            <h1>Create an Oracle Backup Job Definition</h1>
                            <p>Back up Oracle environments with snapshots using an Oracle Backup job definition. During the initial base backup, <span class="ProductNames_LongShortECX_Short">IBM Spectrum Protect Plus</span> creates a new vSnap volume and creates an NFS share. During incremental backups, the previously created volume is reused. The <span class="ProductNames_LongShortECX_Short">IBM Spectrum Protect Plus</span> agent mounts the share on the Oracle server where the backup is to be performed. In the case of Oracle RAC, the backup is performed from any one node in the cluster. Once complete, the <span class="ProductNames_LongShortECX_Short">IBM Spectrum Protect Plus</span> agent unmounts the share from the Oracle server and creates a vSnap snapshot of the backup volume. </p>
                            <div class="Prerequisite">
                                <p class="PostPreRelTitleLeft"><span class="PostPreRelTitle">BEFORE&#160;YOU&#160;BEGIN:</span>
                                </p>
                                <ul>
                                    <li value="1">Configure an&#160;<span class="GeneralSLA&#160;Policy">SLA&#160;Policy</span>.  See <a href="../../sla_policy/sla_policy_create.htm" class="MCXref xref" xrefformat="{paratext}">Configure SLA&#160;Policies</a>.</li>
                                    <li value="2">Review Oracle requirements. See <a href="../../system_requirements/system_requirements_oracle.htm" class="MCXref xref" xrefformat="{paratext}">Oracle Requirements</a>.</li>
                                    <li value="3"> Before an <span class="ProductNames_LongShortECX_Short">IBM Spectrum Protect Plus</span> user can perform backup and restore operations, roles and resource groups must be assigned to the user. Grant users access to resources and backup and restore operations through the <b data-mc-conditions="Default.1012 navigation">Accounts</b> pane. See <a href="../../access/access_overview.htm" class="MCXref xref" xrefformat="{paratext}">Access</a>.</li>
                                </ul>
                                <p class="PostPreRelTitleLeft"><span class="PostPreRelTitle">ORACLE DATABASE CONSIDERATIONS:</span>
                                </p>
                                <ul>
                                    <li value="1">To ensure that filesystem permissions are retained correctly when <span class="ProductNames_LongShortECX_Short">IBM Spectrum Protect Plus</span> moves Oracle data between servers, ensure that the user and group IDs of the Oracle users (e.g. oracle, oinstall, dba) are consistent across all the servers. Refer to Oracle documentation for recommended uid and gid values.</li>
                                    <li value="2">If an Oracle <span class="GeneralInventory">Inventory</span> job runs at the same time or short period after an Oracle Backup job runs, copy errors may occur due to temporary mounts that are created during the Backup job. As a best practice, schedule Oracle <span class="GeneralInventory">Inventory</span> jobs so that they do not overlap with Oracle Backup jobs.</li>
                                    <li value="3" data-mc-conditions="Default.1012 navigation">Avoid configuring log backup for a single Oracle database through multiple Backup jobs. If a single Oracle database is added to multiple job definitions with log backup enabled, a log backup from one job could truncate a log before it is backed up by the next job. This might cause point-in-time restore jobs to fail.</li>
                                </ul>
                                <p class="PostPreRelTitleLeft"><span class="PostPreRelTitle">CONSIDERATIONS:</span>
                                </p>
                                <ul>
                                    <li value="1">Point-in-time recovery is not supported when one or more datafiles are added to the database in the period between the chosen point-in-time and the time that the preceding Backup job ran.</li>
                                </ul>
                            </div>
                            <p class="ListHeading">To create an Oracle Backup job definition:</p>
                            <ol>
                                <li value="1" data-mc-conditions="Default.1012 navigation">From the navigation menu, expand <b>Manage Protection</b>, then expand <b>Applications</b>. Expand <b>Oracle</b>, then click <b>Backup</b>.</li>
                                <li value="2">Select Oracle homes, databases and ASM&#160;diskgroups to back up. Use the search function to search for available instances.</li>
                                <li value="3">Click <b>Select SLA&#160;Policy</b> to add an SLA&#160;Policy to the job definition  that meets your backup data criteria. </li>
                                <li value="4">To create the job definition using default options, click <b>Save</b>. The job runs as defined by your SLA&#160;Policy, or can be run manually from the Backup pane in the SLA&#160;Policy Status section. </li>
                                <li value="5">To edit options before creating the job definition, click <b>Select Options</b>. Set the job definition options.</li>
                                <li class="indent" style="font-weight: bold;" data-mc-autonum=""><span class="autonumber"><span></span></span>Enable Log Backup</li>
                                <li class="Indent_Level2" data-mc-autonum=""><span class="autonumber"><span></span></span>If selected, <span class="ProductNames_LongShortECX_Short">IBM Spectrum Protect Plus</span> will automatically create a log backup volume and mount it to the application server. <span class="ProductNames_LongShortECX_Short">IBM Spectrum Protect Plus</span> will then configure a scheduled job (using cron) that will perform a transaction log backup to that volume at the frequency specified through the <b>Frequency</b> setting.</li>
                                <li class="Indent_Level2" data-mc-autonum=""><span class="autonumber"><span></span></span>In the case of Oracle Real Application Clusters (RAC), <span class="ProductNames_LongShortECX_Short">IBM Spectrum Protect Plus</span> mounts the volume and configures the cron job on each of the cluster nodes. When the schedule is triggered, the jobs internally coordinate to ensure that any one active node performs the log backup and the other nodes take no action.</li>
                                <li class="Indent_Level2" data-mc-autonum=""><span class="autonumber"><span></span></span><span class="ProductNames_LongShortECX_Short">IBM Spectrum Protect Plus</span> automatically manages the retention of logs in its own log backup volume. After a successful database backup, older logs are deleted automatically from this log backup volume. <span class="ProductNames_LongShortECX_Short">IBM Spectrum Protect Plus</span> does not manage the retention of other archived log locations. Administrators must continue to manage those logs using their existing log retention policies.</li>
                                <li class="Indent_Level2" data-mc-autonum="" data-mc-conditions="Default.1012 navigation"><span class="autonumber"><span></span></span>Select <b>Truncate source logs after successful backup</b> to automatically delete older archived logs that are no longer needed from the log backup destination and primary destination after every successful database backup. If the option is cleared, archived logs on the primary log destination are not deleted. Set the log retention through the <b>Primary log retention in days</b> option. </li>
                                <li class="Indent_Level2" data-mc-autonum=""><span class="autonumber"><span></span></span>Once log backup is enabled, point-in-time restore options will be available through the Oracle Restore page. </li>
                                <li class="indent_strong" data-mc-autonum=""><span class="autonumber"><span></span></span>Maximum Parallel Streams per Database</li>
                                <li class="Indent_Level2" data-mc-autonum=""><span class="autonumber"><span></span></span>Set the maximum data stream per database to the backup storage. This setting applies to each database in the job definition. Note that multiple databases can still be backed up in parallel if the value of the option is set to 1. Multiple parallel streams may improve backup speed, but high bandwidth consumption may affect overall system performance.</li>
                                <li value="6">When you are satisfied that the job-specific information is correct, click <b>Save</b>. The job runs as defined by your SLA&#160;Policy, or can be run manually from the <span class="GeneralJob Monitor">Job Monitor</span> pane.</li>
                                <li value="7">To configure additional options, click the <b>Options</b> field associated with the job in the SLA&#160;Policy Status section. If no additional options are currently configured for the job, the field will display <i>Not Configured</i>. Set the additional job options.</li>
                                <li class="indent_strong" data-mc-autonum=""><span class="autonumber"><span></span></span>Pre-scripts and Post-Scripts</li>
                                <li class="Indent_Level2" data-mc-autonum=""><span class="autonumber"><span></span></span>In the Pre-Script and/or Post-Script section, select an uploaded script. <MadCap:conditionalText data-mc-conditions="Default.1012 navigation">Select the <b>Use Script Server</b> check box to select a script server where the script will run. To select an Application Server where the script will run, clear the <b>Use Script Server</b> check box. </MadCap:conditionalText>Scripts and script servers are configured through the <b data-mc-conditions="Default.1012 navigation">Jobs and Monitoring &gt;&#160;Script</b> pane. See <a href="../../system/system_script.htm" class="MCXref xref" xrefformat="{paratext}">Configure Scripts</a>.</li>
                                <li class="Indent_Level2" data-mc-autonum=""><span class="autonumber"><span></span></span>Pre-scripts and post-scripts are scripts that can be run before or after a job runs at the job-level. Windows-based machines support Batch and PowerShell scripts while Linux-based machines support shell scripts. </li>
                                <li class="Indent_Level2" data-mc-autonum=""><span class="autonumber"><span></span></span><b data-mc-conditions="Default.1012 navigation">Continue job/task on script error</b> - When enabled, if a Pre-script completes with a non-zero return code, the backup or restore is attempted and the Pre-script task status returns COMPLETED. When disabled, the backup or restore is not attempted, and the Pre-script task status returns FAILED.  If a Post-script completes with a non-zero return code, the Post-script task status returns COMPLETED. When disabled, the Post-script task status returns FAILED.</li>
                                <li class="indent" style="font-weight: bold;" data-mc-autonum=""><span class="autonumber"><span></span></span>Exclude Resources</li>
                                <li class="Indent_Level2" data-mc-autonum=""><span class="autonumber"><span></span></span>Exclude specific resources from the backup job  through single or multiple exclusion patterns. Resources can be excluded through an exact match or with wildcard asterisks specified before the pattern (*test) or after the pattern (test*). Multiple asterisk wildcards are also supported in a single pattern. Patterns support standard alphanumeric characters as well as the following special characters:&#160;- _ and *. Separate multiple filters with a semicolon.  </li>
                                <li class="indent" style="font-weight: bold;" data-mc-autonum="" data-mc-conditions="Default.1012 navigation"><span class="autonumber"><span></span></span>Force Base Resources</li>
                                <li class="Indent_Level2" data-mc-autonum=""><span class="autonumber"><span></span></span>Force base backups for specific virtual machines or databases in the Backup job definition. All previous backup information associated with the resource will be removed. Separate multiple resources with a semicolon. </li>
                                <li value="8">Once complete, click <b>Save</b>.</li>
                            </ol>
                            <div class="RelatedTopic">
                                <p class="PostPreRelTitleLeft"><span class="PostPreRelTitle">RELATED TOPICS:</span>
                                </p>
                                <ul>
                                    <li value="1"><a href="oracle_restore.htm" class="MCXref xref" xrefformat="{paratext}">Create an Oracle Restore Job Definition</a>
                                    </li>
                                    <li value="2"><a href="oracle_manage.htm" class="MCXref xref" xrefformat="{paratext}">Add an Oracle Server</a>
                                    </li>
                                </ul>
                            </div>
                            <p>&#160;</p>
                            <hr width="100%" size="0" align="center" />
                            <p style="text-align: left;"><span class="Strong" style="font-size: 10pt;">IBM Spectrum Protect Plus</span> <span class="Strong" style="font-size: 10pt;">10.1.2</span> <![CDATA[ ]]></p>
                            <p style="font-size: 8pt;">Licensed Material - Property of IBM Corp. © IBM Corporation and other(s) <span class="GeneralYear">2018</span>. IBM is a registered trademark of the IBM Corporation in the United States, other countries, or both. <span style="font-size: 10pt;"><span style="font-size: 8pt;">| </span></span><span style="font-size: 8pt;" class="SystemShortDate">8/23/2018</span></p>
                        </div>
                    </section><a data-close="true"></a>
                </div>
            </div>
            <script>/* <![CDATA[ */$(document).foundation();/* ]]> */</script>
        </div>
    </body>
</html>